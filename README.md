HYPEä»£å¸è½¬å…¥/è½¬å‡ºæ“ä½œ
- **æ™ºèƒ½é¢„è­¦**: å•ç¬”â‰¥10,000 HYPE å’Œ 24å°æ—¶ç´¯è®¡â‰¥50,000 HYPE
- **å»é‡å¤„ç†**: 24å°æ—¶çª—å£å†…é¿å…é‡å¤è­¦æŠ¥
- **Webhooké€šçŸ¥**: æ”¯æŒé‡è¯•æœºåˆ¶çš„å®æ—¶é€šçŸ¥
- **Redisç¼“å­˜**: é«˜æ•ˆçš„æ•°æ®ç¼“å­˜å’Œç»Ÿè®¡
- **å®¹é”™è®¾è®¡**: è‡ªåŠ¨é‡è¿å’Œé”™è¯¯æ¢å¤

## ğŸ“ é¡¹ç›®ç»“æ„

```
hyper-unstaking-monitor/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ engine/
â”‚   â”‚   â””â”€â”€ alert-engine.ts      # é¢„è­¦å¼•æ“
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ hyperliquid-monitor.ts # Hyperliquid WebSocketç›‘æ§
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ helpers.ts           # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ cache.ts                 # Redisç¼“å­˜ç®¡ç†
â”‚   â”œâ”€â”€ config.ts                # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ logger.ts                # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ types.ts                 # TypeScriptç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ webhook.ts               # Webhooké€šçŸ¥
â”‚   â””â”€â”€ index.ts                 # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ logs/                        # æ—¥å¿—æ–‡ä»¶ç›®å½•
â”œâ”€â”€ docker-compose.yml           # Rediså®¹å™¨é…ç½®
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
npm install
```

### 2. å¯åŠ¨RedisæœåŠ¡
```bash
npm run docker:up
```

### 3. é…ç½®ç¯å¢ƒå˜é‡
```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®Webhook URLç­‰å‚æ•°
```

### 4. å¯åŠ¨ç›‘æ§ç³»ç»Ÿ
```bash
# å¼€å‘æ¨¡å¼
npm run dev

# ç”Ÿäº§æ¨¡å¼
npm run build && npm start
```

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `WEBHOOK_URL` | Rocket Webhooké€šçŸ¥åœ°å€ | - |
| `REDIS_URL` | Redisè¿æ¥åœ°å€ | `redis://localhost:6379` |
| `SINGLE_TRANSFER_THRESHOLD` | å•ç¬”è½¬è´¦é¢„è­¦é˜ˆå€¼ | `10000` |
| `DAILY_CUMULATIVE_THRESHOLD` | 24å°æ—¶ç´¯è®¡é¢„è­¦é˜ˆå€¼ | `50000` |
| `LOG_LEVEL` | æ—¥å¿—çº§åˆ« | `info` |

### ç›‘æ§åœ°å€

ç³»ç»Ÿç›‘æ§26ä¸ªé¢„è®¾åœ°å€ï¼ŒåŒ…æ‹¬ï¼š
- ä¸»è¦è§£é”åœ°å€ (2,381,375.14 HYPE)
- 25ä¸ªå…¶ä»–è§£é”åœ°å€
- æ”¯æŒè‡ªå®šä¹‰é¢„è­¦é˜ˆå€¼

## ğŸ“Š é¢„è­¦è§„åˆ™

### 1. å•ç¬”è½¬è´¦é¢„è­¦
- **æ¡ä»¶**: å•ç¬”è½¬å…¥/è½¬å‡º â‰¥ 10,000 HYPE
- **é€šçŸ¥**: ç«‹å³å‘é€Webhook

### 2. ç´¯è®¡è½¬è´¦é¢„è­¦
- **æ¡ä»¶**: 24å°æ—¶ç´¯è®¡è½¬å…¥/è½¬å‡º â‰¥ 50,000 HYPE
- **é€šçŸ¥**: ç«‹å³å‘é€Webhook
- **é‡ç½®**: æ¯æ—¥UTC 00:00è‡ªåŠ¨é‡ç½®

## ğŸ“¡ Webhooké€šçŸ¥æ ¼å¼

```json
{
  "timestamp": 1672531200000,
  "alertType": "single_transfer_in",
  "address": "0x5d83bb3313240cab65e2e9200d3aaf3520474fb6",
  "addressLabel": "ä¸»è¦è§£é”åœ°å€",
  "amount": "25000",
  "txHash": "0xabc123...",
  "blockTime": 1672531180000,
  "unlockAmount": 2381375.14,
  "cumulativeToday": "75000"
}
```

### é¢„è­¦ç±»å‹
- `single_transfer_in`: å•ç¬”è½¬å…¥é¢„è­¦
- `single_transfer_out`: å•ç¬”è½¬å‡ºé¢„è­¦
- `cumulative_transfer_in`: ç´¯è®¡è½¬å…¥é¢„è­¦
- `cumulative_transfer_out`: ç´¯è®¡è½¬å‡ºé¢„è­¦

## ğŸ›  å¼€å‘å’Œç»´æŠ¤

### è„šæœ¬å‘½ä»¤
```bash
npm run dev          # å¼€å‘æ¨¡å¼å¯åŠ¨
npm run build        # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm start            # ç”Ÿäº§æ¨¡å¼å¯åŠ¨
npm run docker:up    # å¯åŠ¨Rediså®¹å™¨
npm run docker:down  # åœæ­¢Rediså®¹å™¨
npm run docker:logs  # æŸ¥çœ‹å®¹å™¨æ—¥å¿—
```

### æ—¥å¿—ç›‘æ§
```bash
# å®æ—¶æŸ¥çœ‹æ—¥å¿—
tail -f logs/hype-monitor.log

# æŸ¥çœ‹Dockerå®¹å™¨æ—¥å¿—
npm run docker:logs
```

### ç³»ç»ŸçŠ¶æ€
ç³»ç»Ÿæ¯5åˆ†é’Ÿè¾“å‡ºçŠ¶æ€æŠ¥å‘Šï¼ŒåŒ…æ‹¬ï¼š
- è¿è¡Œæ—¶é•¿
- WebSocketè¿æ¥çŠ¶æ€
- è®¢é˜…æ•°é‡
- ç›‘æ§åœ°å€æ•°é‡
- æ´»è·ƒè§„åˆ™æ•°é‡

## ğŸ”§ æŠ€æœ¯æ ˆ

- **è¯­è¨€**: TypeScript/Node.js
- **WebSocket**: @nktkas/hyperliquid
- **ç¼“å­˜**: Redis 7
- **é€šçŸ¥**: Axios HTTPè¯·æ±‚
- **æ—¥å¿—**: Winston
- **å®¹å™¨**: Docker Compose

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **WebSocketè¿æ¥å¤±è´¥**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - ç¡®è®¤Hyperliquid APIå¯è®¿é—®
   - æŸ¥çœ‹æ—¥å¿—ä¸­çš„è¿æ¥é”™è¯¯ä¿¡æ¯

2. **Redisè¿æ¥å¤±è´¥**
   ```bash
   # æ£€æŸ¥Rediså®¹å™¨çŠ¶æ€
   docker ps
   
   # é‡å¯Redis
   npm run docker:down && npm run docker:up
   ```

3. **Webhookå‘é€å¤±è´¥**
   - éªŒè¯Webhook URLé…ç½®
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - æŸ¥çœ‹é‡è¯•æ—¥å¿—

4. **å†…å­˜ä½¿ç”¨è¿‡é«˜**
   - æ£€æŸ¥Redisç¼“å­˜å¤§å°
   - ç›‘æ§WebSocketè¿æ¥æ•°é‡
   - è€ƒè™‘è°ƒæ•´æ—¥å¿—çº§åˆ«

### æ€§èƒ½ä¼˜åŒ–

- **ç›‘æ§å»¶è¿Ÿ**: ç³»ç»Ÿè®¾è®¡ç›®æ ‡ <1ç§’å“åº”æ—¶é—´
- **WebSocketç®¡ç†**: è‡ªåŠ¨é‡è¿å’Œè®¢é˜…æ¢å¤
- **ç¼“å­˜ç­–ç•¥**: 25å°æ—¶TTLè‡ªåŠ¨æ¸…ç†
- **é”™è¯¯å¤„ç†**: å®Œæ•´çš„å¼‚å¸¸æ•è·å’Œæ¢å¤

## ğŸ“ˆ ç›‘æ§æŒ‡æ ‡

ç³»ç»Ÿæä¾›ä»¥ä¸‹ç›‘æ§æŒ‡æ ‡ï¼š
- WebSocketè¿æ¥çŠ¶æ€
- è®¢é˜…æ•°é‡
- å¤„ç†çš„äº‹ä»¶æ•°é‡
- ç¼“å­˜å‘½ä¸­ç‡
- WebhookæˆåŠŸç‡
- ç³»ç»Ÿè¿è¡Œæ—¶é•¿

## ğŸ”’ å®‰å…¨è€ƒè™‘

- æ‰€æœ‰æ•æ„Ÿé…ç½®é€šè¿‡ç¯å¢ƒå˜é‡ç®¡ç†
- Redisè¿æ¥ä½¿ç”¨å¯†ç ä¿æŠ¤ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- Webhookè¯·æ±‚åŒ…å«ç³»ç»Ÿæ ‡è¯†
- å®Œæ•´çš„é”™è¯¯æ—¥å¿—è®°å½•

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿæˆ–æŸ¥çœ‹é¡¹ç›®æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯ã€‚

---

**ç‰ˆæœ¬**: 1.0.0  
**æœ€åæ›´æ–°**: 2025å¹´6æœˆ  
**å¼€å‘è€…**: Edison
### è°ƒè¯•æŠ€å·§

```bash
# è®¾ç½®è°ƒè¯•çº§åˆ«
export LOG_LEVEL=debug

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
./manage.sh logs

# æµ‹è¯•Webhookè¿æ¥
curl -X POST $WEBHOOK_URL \
  -H "Content-Type: application/json" \
  -d '{"test": "webhook connection"}'

# æ£€æŸ¥Redisè¿æ¥
redis-cli ping

# ç›‘æ§WebSocketè¿æ¥
./manage.sh status
```

### å¸¸è§é—®é¢˜æ’æŸ¥

**1. WebSocketè¿æ¥å¤±è´¥**
```bash
# æ£€æŸ¥ç½‘ç»œè¿æ¥
ping api.hyperliquid.xyz

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
grep "WebSocket" logs/monitor.log
```

**2. Redisè¿æ¥é—®é¢˜**
```bash
# æ£€æŸ¥RedisæœåŠ¡
systemctl status redis
# æˆ–
brew services list | grep redis

# æµ‹è¯•è¿æ¥
redis-cli -u $REDIS_URL ping
```

**3. Webhookå‘é€å¤±è´¥**
```bash
# æ£€æŸ¥Webhooké…ç½®
grep "WEBHOOK" .env

# æŸ¥çœ‹å‘é€æ—¥å¿—
grep "webhook" logs/monitor.log
```

## ğŸ“ˆ ç›‘æ§æŒ‡æ ‡

### ç³»ç»ŸæŒ‡æ ‡

- **è¿æ¥çŠ¶æ€**ï¼šWebSocketè¿æ¥æ•°å’ŒçŠ¶æ€
- **å¤„ç†æ€§èƒ½**ï¼šäº‹ä»¶å¤„ç†å»¶è¿Ÿå’Œååé‡
- **ç¼“å­˜ä½¿ç”¨**ï¼šRediså†…å­˜ä½¿ç”¨å’Œå‘½ä¸­ç‡
- **è­¦æŠ¥ç»Ÿè®¡**ï¼šè§¦å‘æ¬¡æ•°å’Œç±»å‹åˆ†å¸ƒ

### ä¸šåŠ¡æŒ‡æ ‡

- **è½¬è´¦ç›‘æ§**ï¼šå•ç¬”å’Œç´¯è®¡è½¬è´¦é‡
- **åœ°å€æ´»è·ƒåº¦**ï¼šå„åœ°å€è½¬è´¦é¢‘ç‡
- **æ—¶é—´åˆ†å¸ƒ**ï¼šè½¬è´¦æ—¶é—´æ¨¡å¼åˆ†æ
- **å¼‚å¸¸æ£€æµ‹**ï¼šå¤§é¢è½¬è´¦é¢„è­¦ç»Ÿè®¡

## ğŸ”’ å®‰å…¨å»ºè®®

### ç”Ÿäº§ç¯å¢ƒé…ç½®

```bash
# è®¾ç½®ä¸¥æ ¼çš„æ–‡ä»¶æƒé™
chmod 600 .env
chmod 755 manage.sh

# ä½¿ç”¨ç¯å¢ƒå˜é‡è€Œéç¡¬ç¼–ç 
export REDIS_PASSWORD="your-secure-password"
export WEBHOOK_SECRET="your-webhook-secret"

# å¯ç”¨æ—¥å¿—è½®è½¬
# åœ¨ /etc/logrotate.d/hype-monitor ä¸­é…ç½®
```

### ç½‘ç»œå®‰å…¨

- ä½¿ç”¨HTTPS Webhookç«¯ç‚¹
- é…ç½®Rediså¯†ç è®¤è¯
- é™åˆ¶æœåŠ¡å™¨å‡ºå…¥ç«™è§„åˆ™
- å®šæœŸæ›´æ–°ä¾èµ–åŒ…å®‰å…¨è¡¥ä¸

## ğŸš¨ æ•…éšœå¤„ç†

### è‡ªåŠ¨æ¢å¤æœºåˆ¶

ç³»ç»Ÿå†…ç½®å¤šå±‚æ•…éšœæ¢å¤ï¼š

1. **WebSocketé‡è¿**ï¼šè‡ªåŠ¨é‡è¿ï¼ŒæŒ‡æ•°é€€é¿
2. **æ‰¹æ¬¡éš”ç¦»**ï¼šå•æ‰¹æ¬¡å¤±è´¥ä¸å½±å“å…¶ä»–æ‰¹æ¬¡
3. **ç¼“å­˜å®¹é”™**ï¼šRedisä¸å¯ç”¨æ—¶é™çº§å¤„ç†
4. **Webhooké‡è¯•**ï¼šå¤±è´¥è‡ªåŠ¨é‡è¯•ï¼Œæœ€å¤§3æ¬¡

### æ‰‹åŠ¨æ¢å¤

```bash
# é‡å¯æ‰€æœ‰æœåŠ¡
./manage.sh restart

# æ¸…ç†å¹¶é‡å¯
./manage.sh clean
./manage.sh install
./manage.sh pm2

# æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
./manage.sh status
./manage.sh logs
```

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.2.0 (æœ€æ–°) - 2025-06-20

**ğŸ¯ ä¸»è¦æ›´æ–°**
- âœ… **ä¿®å¤è¯¯æŠ¥é—®é¢˜**ï¼šä¼˜åŒ–æ•°æ®è§£æå™¨ï¼Œè¿‡æ»¤è®¢å•ä¿®æ”¹äº‹ä»¶
- âœ… **ç»Ÿä¸€ç®¡ç†è„šæœ¬**ï¼šæ–°å¢ `manage.sh` è„šæœ¬ï¼Œç®€åŒ–æ“ä½œ
- âœ… **é¡¹ç›®ç»“æ„ä¼˜åŒ–**ï¼šæ¸…ç†ä¸å¿…è¦æ–‡ä»¶ï¼Œç²¾ç®€ç›®å½•ç»“æ„
- âœ… **äº‹ä»¶è¿‡æ»¤å¢å¼º**ï¼šåªç›‘æ§çœŸå®è½¬è´¦äº‹ä»¶

**ğŸ”§ æŠ€æœ¯æ”¹è¿›**
- æ”¹è¿› `HyperliquidDataParser` äº‹ä»¶è¿‡æ»¤é€»è¾‘
- ä¼˜åŒ– WebSocket äº‹ä»¶å¤„ç†æµç¨‹
- å¢å¼ºæ—¥å¿—è®°å½•å’Œé”™è¯¯å¤„ç†
- æ ‡å‡†åŒ–é¡¹ç›®ç®¡ç†å‘½ä»¤

**ğŸ“‹ æ–‡ä»¶å˜æ›´**
- æ–°å¢ï¼š`manage.sh` - ç»Ÿä¸€ç®¡ç†è„šæœ¬
- æ›´æ–°ï¼š`src/utils/data-parser.ts` - ä¼˜åŒ–äº‹ä»¶è¿‡æ»¤
- æ›´æ–°ï¼š`src/services/hyperliquid-monitor.ts` - æ”¹è¿›äº‹ä»¶å¤„ç†
- ç§»é™¤ï¼š`dev.sh`, `start.sh`, `restart.sh`, `deploy.sh` - åˆå¹¶åˆ°ç®¡ç†è„šæœ¬
- æ¸…ç†ï¼š`dist/`, `tests/` - æ„å»ºäº§ç‰©å’Œæµ‹è¯•ç›®å½•

### v1.1.0 - 2025-06-15
- æ‰¹é‡ç›‘æ§æ”¯æŒ
- Redisç¼“å­˜ä¼˜åŒ–
- Webhooké‡è¯•æœºåˆ¶

### v1.0.0 - 2025-06-10
- åŸºç¡€ç›‘æ§åŠŸèƒ½
- é¢„è­¦å¼•æ“
- Dockeræ”¯æŒ

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹

1. **Forké¡¹ç›®**å¹¶åˆ›å»ºç‰¹æ€§åˆ†æ”¯
2. **æœ¬åœ°å¼€å‘**ï¼š`./manage.sh dev`
3. **è¿è¡Œæµ‹è¯•**ï¼š`./manage.sh test`ï¼ˆå¦‚æœæœ‰æµ‹è¯•ï¼‰
4. **æäº¤ä»£ç **ï¼šéµå¾ª[Conventional Commits](https://conventionalcommits.org/)è§„èŒƒ
5. **åˆ›å»ºPR**ï¼šæè¿°å˜æ›´å†…å®¹å’Œæµ‹è¯•ç»“æœ

### ä»£ç è§„èŒƒ

```bash
# ä»£ç æ ¼å¼åŒ–
npm run format

# ç±»å‹æ£€æŸ¥
npm run type-check

# ä»£ç æ£€æŸ¥
npm run lint
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **æ–‡æ¡£é—®é¢˜**ï¼šæŸ¥çœ‹ `masterplan.md` éœ€æ±‚æ–‡æ¡£
- **éƒ¨ç½²é—®é¢˜**ï¼šæŸ¥çœ‹ `DEPLOYMENT.md` éƒ¨ç½²æŒ‡å—
- **æ—¥å¿—åˆ†æ**ï¼šä½¿ç”¨ `./manage.sh logs` æŸ¥çœ‹è¿è¡Œæ—¥å¿—
- **æ€§èƒ½è°ƒä¼˜**ï¼šè°ƒæ•´æ‰¹æ¬¡å¤§å°å’Œç¼“å­˜é…ç½®

## ğŸ¯ è·¯çº¿å›¾

### è¿‘æœŸè®¡åˆ’

- [ ] Webç®¡ç†ç•Œé¢
- [ ] æ›´å¤šé€šçŸ¥æ¸ é“ï¼ˆTelegramã€Discordï¼‰
- [ ] ç›‘æ§æ•°æ®å¯è§†åŒ–
- [ ] å†å²æ•°æ®æŸ¥è¯¢API

### é•¿æœŸè§„åˆ’

- [ ] å¤šé“¾ç›‘æ§æ”¯æŒ
- [ ] æœºå™¨å­¦ä¹ å¼‚å¸¸æ£€æµ‹
- [ ] é«˜å¯ç”¨é›†ç¾¤éƒ¨ç½²
- [ ] å®æ—¶ç›‘æ§ä»ªè¡¨æ¿

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [Hyperliquidå®˜æ–¹æ–‡æ¡£](https://hyperliquid.gitbook.io/)
- [WebSocket APIå‚è€ƒ](https://hyperliquid.gitbook.io/hyperliquid-docs/for-developers/api/websocket)
- [Redisæ–‡æ¡£](https://redis.io/documentation)
- [PM2è¿›ç¨‹ç®¡ç†](https://pm2.keymetrics.io/)

---

**âš¡ å¿«é€Ÿå‘½ä»¤å‚è€ƒï¼š**

```bash
# ğŸš€ å¸¸ç”¨æ“ä½œ
./manage.sh dev          # å¼€å‘æ¨¡å¼
./manage.sh pm2          # ç”Ÿäº§å¯åŠ¨
./manage.sh logs         # æŸ¥çœ‹æ—¥å¿—
./manage.sh status       # æœåŠ¡çŠ¶æ€
./manage.sh deploy       # ä¸€é”®éƒ¨ç½²
./manage.sh clean        # æ¸…ç†æ–‡ä»¶

# ğŸ“Š ç›‘æ§æ“ä½œ
./manage.sh restart      # é‡å¯æœåŠ¡
./manage.sh stop         # åœæ­¢æœåŠ¡
curl $WEBHOOK_URL        # æµ‹è¯•Webhook
redis-cli ping           # æµ‹è¯•Redis
```

> ğŸ’¡ **æç¤º**ï¼šä½¿ç”¨ `./manage.sh` æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤å’Œä½¿ç”¨è¯´æ˜

---

*æœ€åæ›´æ–°ï¼š2025-06-20*